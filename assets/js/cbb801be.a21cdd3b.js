"use strict";(self.webpackChunkparty_js_docs=self.webpackChunkparty_js_docs||[]).push([[6470],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return c}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,k=m["".concat(o,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(k,i(i({ref:t},s),{},{components:a})):n.createElement(k,i({ref:t},s))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var d={};for(var o in t)hasOwnProperty.call(t,o)&&(d[o]=t[o]);d.originalType=e,d.mdxType="string"==typeof e?e:r,i[1]=d;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5566:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return i},contentTitle:function(){return d},metadata:function(){return o},toc:function(){return p},default:function(){return u}});var n=a(7462),r=a(3366),l=(a(7294),a(3905)),i={id:"index.modulebuilder",title:"Class: ModuleBuilder",sidebar_label:"ModuleBuilder",custom_edit_url:null},d=void 0,o={unversionedId:"api/classes/index.modulebuilder",id:"api/classes/index.modulebuilder",isDocsHomePage:!1,title:"Class: ModuleBuilder",description:"index.ModuleBuilder",source:"@site/docs/api/classes/index.modulebuilder.md",sourceDirName:"api/classes",slug:"/api/classes/index.modulebuilder",permalink:"/docs/api/classes/index.modulebuilder",editUrl:null,tags:[],version:"current",frontMatter:{id:"index.modulebuilder",title:"Class: ModuleBuilder",sidebar_label:"ModuleBuilder",custom_edit_url:null},sidebar:"api",previous:{title:"Emitter",permalink:"/docs/api/classes/index.emitter"},next:{title:"Particle",permalink:"/docs/api/classes/index.particle"}},p=[{value:"Constructors",id:"constructors",children:[{value:"constructor",id:"constructor",children:[]}]},{value:"Methods",id:"methods",children:[{value:"build",id:"build",children:[]},{value:"by",id:"by",children:[]},{value:"drive",id:"drive",children:[]},{value:"relative",id:"relative",children:[]},{value:"through",id:"through",children:[]}]}],s={toc:p};function u(e){var t=e.components,a=(0,r.Z)(e,["components"]);return(0,l.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/modules/index"},"index"),".ModuleBuilder"),(0,l.kt)("p",null,"Represents a builder for particle modules. Returns an evaluatable module\nfunction, that can be consumed by emitters."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"remarks")),'\nNot all properties can be driven. TypeScript will validate this at compile time,\nbut no internal validation is performed due to performance reasons. Also, note\nthat the driving factor is "lifetime" by default.'),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"example"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},'new ModuleBuilder()\n    .drive("size")\n    .by((t) => t * 2)\n    .through("lifetime")\n    .build();\n')),(0,l.kt)("h2",{id:"constructors"},"Constructors"),(0,l.kt)("h3",{id:"constructor"},"constructor"),(0,l.kt)("p",null,"\u2022 ",(0,l.kt)("strong",{parentName:"p"},"new ModuleBuilder"),"()"),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("h3",{id:"build"},"build"),(0,l.kt)("p",null,"\u25b8 ",(0,l.kt)("strong",{parentName:"p"},"build"),"(): ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/modules/index#modulefunction"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleFunction"))),(0,l.kt)("p",null,"Consumes the builder and returns an evaluatable module function."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"remarks")),"\nNote that you need to specify the driving key and value, otherwise an error\nwill be thrown."),(0,l.kt)("h4",{id:"returns"},"Returns"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/modules/index#modulefunction"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleFunction"))),(0,l.kt)("h4",{id:"defined-in"},"Defined in"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiliansource/party-js/blob/fd25e6b/src/systems/modules.ts#L144"},"systems/modules.ts:144")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"by"},"by"),(0,l.kt)("p",null,"\u25b8 ",(0,l.kt)("strong",{parentName:"p"},"by"),"<",(0,l.kt)("inlineCode",{parentName:"p"},"TDriver"),">","(",(0,l.kt)("inlineCode",{parentName:"p"},"driver"),"): ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"Specifies the value to drive the module behaviour by. This can be a constant,\na spline or an evaluable function. Note that in the last case, the driving\nfactor is passed as a parameter."),(0,l.kt)("h4",{id:"type-parameters"},"Type parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"TDriver")),(0,l.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,l.kt)("a",{parentName:"td",href:"/docs/api/modules/index#drivabletype"},(0,l.kt)("inlineCode",{parentName:"a"},"DrivableType")))))),(0,l.kt)("h4",{id:"parameters"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"driver")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("a",{parentName:"td",href:"/docs/api/modules/index#moduledrivervalue"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleDriverValue")),"<",(0,l.kt)("inlineCode",{parentName:"td"},"TDriver"),">")))),(0,l.kt)("h4",{id:"returns-1"},"Returns"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"The chained builder instance."),(0,l.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiliansource/party-js/blob/fd25e6b/src/systems/modules.ts#L108"},"systems/modules.ts:108")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"drive"},"drive"),(0,l.kt)("p",null,"\u25b8 ",(0,l.kt)("strong",{parentName:"p"},"drive"),"<",(0,l.kt)("inlineCode",{parentName:"p"},"TKey"),">","(",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"): ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"Specifies the key in the particle that should be driven."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"remarks")),"\nNote that not all of a particle's properties are drivable through modules. If you\nneed full control of a particle inside of a module, you can use a module function directly."),(0,l.kt)("h4",{id:"type-parameters-1"},"Type parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"TKey")),(0,l.kt)("td",{parentName:"tr",align:"left"},"extends ",(0,l.kt)("inlineCode",{parentName:"td"},'"size"')," ","|"," ",(0,l.kt)("inlineCode",{parentName:"td"},'"rotation"')," ","|"," ",(0,l.kt)("inlineCode",{parentName:"td"},'"color"')," ","|"," ",(0,l.kt)("inlineCode",{parentName:"td"},'"opacity"'))))),(0,l.kt)("h4",{id:"parameters-1"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"key")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"TKey"))))),(0,l.kt)("h4",{id:"returns-2"},"Returns"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"The chained builder instance."),(0,l.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiliansource/party-js/blob/fd25e6b/src/systems/modules.ts#L86"},"systems/modules.ts:86")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"relative"},"relative"),(0,l.kt)("p",null,"\u25b8 ",(0,l.kt)("strong",{parentName:"p"},"relative"),"(",(0,l.kt)("inlineCode",{parentName:"p"},"isRelative?"),"): ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"Specifies that the module function is supposed to act relative to the\nproperties initial value."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},(0,l.kt)("inlineCode",{parentName:"strong"},"remarks")),'\nNote that this is only possible if an "initial*" property exists on the\nparticle object. The operation applied to the initial and new value\nis dependant on their type:'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Vector"),": Both vectors are added."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"number"),": Both numbers are multiplied.")),(0,l.kt)("p",null,"For more advanced relative customizations, consider using the particle\nobject in the driver value function instead, like:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},".by((t, p) => p.initialSize + t * 2);\n")),(0,l.kt)("h4",{id:"parameters-2"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Default value"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"isRelative")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"boolean")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"true"))))),(0,l.kt)("h4",{id:"returns-3"},"Returns"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiliansource/party-js/blob/fd25e6b/src/systems/modules.ts#L132"},"systems/modules.ts:132")),(0,l.kt)("hr",null),(0,l.kt)("h3",{id:"through"},"through"),(0,l.kt)("p",null,"\u25b8 ",(0,l.kt)("strong",{parentName:"p"},"through"),"(",(0,l.kt)("inlineCode",{parentName:"p"},"factor"),"): ",(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,'Specifies the factor to drive the evaluated value by. Supports "lifetime" and "size".'),(0,l.kt)("h4",{id:"parameters-3"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"factor")),(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("a",{parentName:"td",href:"/docs/api/modules/index#drivablefactor"},(0,l.kt)("inlineCode",{parentName:"a"},"DrivableFactor")))))),(0,l.kt)("h4",{id:"returns-4"},"Returns"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"/docs/api/classes/index.modulebuilder"},(0,l.kt)("inlineCode",{parentName:"a"},"ModuleBuilder"))),(0,l.kt)("p",null,"The chained builder instance."),(0,l.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiliansource/party-js/blob/fd25e6b/src/systems/modules.ts#L96"},"systems/modules.ts:96")))}u.isMDXComponent=!0}}]);